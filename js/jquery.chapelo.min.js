!function(t){function e(t,e){var n="";return e.forEach(function(e){for(var i in t)n+=i+e+"|"}),n=n.substring(0,n.length-1),new RegExp("("+n+")","g")}function n(t,e){var n=this.value;if(n.match(t)){var i=this.selectionStart,s=this.value.slice(0,i+1),a=s.match(t);this.value=n.replace(t,function(t){return e[t[0]]}),a&&(this.selectionStart=i-a.length,this.selectionEnd=this.selectionStart)}}var i={C:"Ĉ",G:"Ĝ",H:"Ĥ",J:"Ĵ",S:"Ŝ",U:"Ŭ",c:"ĉ",g:"ĝ",h:"ĥ",j:"ĵ",s:"ŝ",u:"ŭ"},s=["X","x","H","h"],a='textarea, input[type="text"]';t.fn.chapelo=function(){var c=t.extend({alphabet:i,suffixes:s,selectors:a,encode:n},c),r=e(c.alphabet,c.suffixes);return this.filter(c.selectors).add(this.find(c.selectors)).each(function(){t(this).keyup(function(){c.encode.call(this,r,c.alphabet)})})}}(jQuery);
