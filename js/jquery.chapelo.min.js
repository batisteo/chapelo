!function(e){function t(e){var t=["^","."];return t.indexOf(e)>-1?"\\"+e:e}function c(e,c){var a="";return c.forEach(function(c){for(var n in e)a+=n+t(c)+"|"}),a=a.slice(0,-1),new RegExp("("+a+")","g")}function a(e){return e.prop("checked")!==!1}function n(t){return a(e("#chap-general-toggle"))?e(t).hasClass("chap-off")?!1:!0:!1}function i(e,t){var c=this.value;if(c.match(e)){var a=this.selectionStart,n=this.value.slice(0,a+1),i=n.match(e);this.value=c.replace(e,function(e){return t[e[0]]}),i&&(this.selectionStart=a-i.length,this.selectionEnd=this.selectionStart)}}var h={C:"Ĉ",G:"Ĝ",H:"Ĥ",J:"Ĵ",S:"Ŝ",U:"Ŭ",c:"ĉ",g:"ĝ",h:"ĥ",j:"ĵ",s:"ŝ",u:"ŭ"},o=["X","x","H","h","^"],r='textarea, input[type="text"]';e.fn.chapelo=function(){var t=e.extend({alphabet:h,suffixes:o,selectors:r,encode:i},t),a=c(t.alphabet,t.suffixes);return this.filter(t.selectors).add(this.find(t.selectors)).each(function(){e(this).keyup(function(){n(this)&&t.encode.call(this,a,t.alphabet)})})}}(jQuery),$(function(){function e(){var e=$(this),t=checked.data("chap-toggle-id");void 0!==t&&(field=$("#"+t),field.toggleClass("chap-off",!e.prop("checked")));var c=checked.data("chap-toggle");void 0!=c&&(fields=$("."+c),fields.each(function(){$(this).toggleClass("chap-off",!e.prop("checked")).trigger("chapChange",e.prop("checked"))}))}$("input:checkbox").each(e),$("input:checkbox").change(e),$('textarea, input[type="text"]').on("chapChange",function(e,t){var c=$('[data-chap-toggle-id="'+$(this).attr("id")+'"]');c.prop("checked",t)}),$("#chap-general-toggle").on("change switchChange.bootstrapSwitch",function(){var e=$(this).prop("checked");$(".chap-field-toggle").prop("checked",e),$(".chap-field-toggle").prop("disabled",!e)})});
